<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en"><head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/"><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>
      The file URI Scheme
    </title><script>
var buttonsAdded = false;

function init() {
  var fb = document.createElement("div");
  fb.className = "feedback noprint";
  fb.setAttribute("onclick", "feedback();");
  fb.appendChild(document.createTextNode("feedback"));

  var bodyl = document.getElementsByTagName("body");
  bodyl.item(0).appendChild(fb);
}

function feedback() {
  toggleButtonsToElementsByName("h1");
  toggleButtonsToElementsByName("h2");
  toggleButtonsToElementsByName("h3");
  toggleButtonsToElementsByName("h4");

  buttonsAdded = !buttonsAdded;
}

function toggleButtonsToElementsByName(name) {
  var list = document.getElementsByTagName(name);
  for (var i = 0; i < list.length; i++) {
    toggleButton(list.item(i));
  }
}

function toggleButton(node) {
  if (! buttonsAdded) {

    // docname
    var template = "https://github.com/phluid61/file-uri-scheme/issues/new?title={docname},%20%22{section}%22&body=<{ref}>:";

    var id = node.getAttribute("id");
    // better id available?
    var titlelinks = node.getElementsByTagName("a");
    for (var i = 0; i < titlelinks.length; i++) {
      var tl = titlelinks.item(i);
      if (tl.getAttribute("id")) {
        id = tl.getAttribute("id");
      }
    }

    // ref
    var ref = window.location.toString();
    var hash = ref.indexOf("#");
    if (hash != -1) {
      ref = ref.substring(0, hash);
    }
    if (id != "") {
      ref += "#" + id;
    }

    // docname
    var docname = "draft-kerwin-file-scheme-latest";

    // section
    var section = node.textContent;
    section = section.replace("\u00a0", " ");

    // build URI from template
    var uri = template.replace("{docname}", encodeURIComponent(docname));
    uri = uri.replace("{section}", encodeURIComponent(section));
    uri = uri.replace("{ref}", encodeURIComponent(ref));

    var button = document.createElement("a");
    button.className = "fbbutton noprint";
    button.setAttribute("href", uri);
    button.appendChild(document.createTextNode("send feedback"));
    node.appendChild(button);
  }
  else {
    var buttons = node.getElementsByTagName("a");
    for (var i = 0; i < buttons.length; i++) {
      var b = buttons.item(i);
      if (b.className == "fbbutton noprint") {
        node.removeChild(b);
      }
    }
  }
}</script><style type="text/css" title="Xml2Rfc (sans serif)">
a {
  text-decoration: none;
}
a.smpl {
  color: black;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}
body {
  color: black;
  font-family: verdana, helvetica, arial, sans-serif;
  font-size: 10pt;
  margin-right: 2em;
}
cite {
  font-style: normal;
}
dl {
  margin-left: 2em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}
dl p {
  margin-left: 0em;
}
dt {
  margin-top: .5em;
}
h1 {
  font-size: 14pt;
  line-height: 21pt;
  page-break-after: avoid;
}
h1.np {
  page-break-before: always;
}
h1 a {
  color: #333333;
}
h2 {
  font-size: 12pt;
  line-height: 15pt;
  page-break-after: avoid;
}
h3, h4, h5, h6 {
  font-size: 10pt;
  page-break-after: avoid;
}
h2 a, h3 a, h4 a, h5 a, h6 a {
  color: black;
}
img {
  margin-left: 3em;
}
li {
  margin-left: 2em;
}
ol {
  margin-left: 2em;
}
ol.la {
  list-style-type: lower-alpha;
}
ol.ua {
  list-style-type: upper-alpha;
}
ol p {
  margin-left: 0em;
}
p {
  margin-left: 2em;
}
pre {
  margin-left: 3em;
  background-color: lightyellow;
  padding: .25em;
  page-break-inside: avoid;
}
pre.text2 {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
  width: 69em;
}
pre.inline {
  background-color: white;
  padding: 0em;
}
pre.text {
  border-style: dotted;
  border-width: 1px;
  background-color: #f8f8f8;
  width: 69em;
}
pre.drawing {
  border-style: solid;
  border-width: 1px;
  background-color: #f8f8f8;
  padding: 2em;
}
table {
  margin-left: 2em;
}
table.header {
  border-spacing: 1px;
  width: 95%;
  font-size: 10pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap;
}
table.header td {
  background-color: gray;
  width: 50%;
}
table.header a {
  color: white;
}
td.reference {
  vertical-align: top;
  white-space: nowrap;
  padding-right: 1em;
}
thead {
  display:table-header-group;
}
ul.toc, ul.toc ul {
  list-style: none;
  margin-left: 1.5em;
  padding-left: 0em;
}
ul.toc li {
  line-height: 150%;
  font-weight: bold;
  font-size: 10pt;
  margin-left: 0em;
}
ul.toc li li {
  line-height: normal;
  font-weight: normal;
  font-size: 9pt;
  margin-left: 0em;
}
li.excluded {
  font-size: 0pt;
}
ul p {
  margin-left: 0em;
}
.bcp14 {
  font-style: normal;
  text-transform: lowercase;
  font-variant: small-caps;
}
.comment {
  background-color: yellow;
}
.center {
  text-align: center;
}
.error {
  color: red;
  font-style: italic;
  font-weight: bold;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 9pt;
}
.filename {
  color: #333333;
  font-weight: bold;
  font-size: 12pt;
  line-height: 21pt;
  text-align: center;
}
.fn {
  font-weight: bold;
}
.hidden {
  display: none;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.title {
  color: #990000;
  font-size: 18pt;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
  margin-top: 36pt;
}
.vcardline {
  display: block;
}
.warning {
  font-size: 14pt;
  background-color: yellow;
}
.feedback {
  position: fixed;
  bottom: 1%;
  right: 1%;
  padding: 3px 5px;
  color: white;
  border-radius: 5px;
  background: #a00000;
  border: 1px solid silver;
}
.fbbutton {
  margin-left: 1em;
  color: #303030;
  font-size: small;
  font-weight: normal;
  background: #d0d000;
  padding: 1px 4px;
  border: 1px solid silver;
  border-radius: 5px;
}

@media print {
  .noprint {
    display: none;
  }

  a {
    color: black;
    text-decoration: none;
  }

  table.header {
    width: 90%;
  }

  td.header {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 12pt;
  }

  ul.toc a:nth-child(2)::after {
    content: leader('.') target-counter(attr(href), page);
  }

  ul.ind li li a {
    content: target-counter(attr(href), page);
  }

  .print2col {
    column-count: 2;
    -moz-column-count: 2;
    column-fill: auto;
  }
}

@page {
  @top-left {
       content: "Internet-Draft";
  }
  @top-right {
       content: "July 2013";
  }
  @top-center {
       content: "File Scheme";
  }
  @bottom-left {
       content: "Kerwin";
  }
  @bottom-center {
       content: "Expires January 5, 2014";
  }
  @bottom-right {
       content: "[Page " counter(page) "]";
  }
}

@page:first {
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Contents" href="#rfc.toc"><link rel="Author" href="#rfc.authors"><link rel="Copyright" href="#rfc.copyrightnotice"><link rel="Chapter" title="1 Introduction" href="#rfc.section.1"><link rel="Chapter" title="2 Scheme Definition" href="#rfc.section.2"><link rel="Chapter" title="3 Implementation Notes" href="#rfc.section.3"><link rel="Chapter" title="4 Security Considerations" href="#rfc.section.4"><link rel="Chapter" title="5 IANA Considerations" href="#rfc.section.5"><link rel="Chapter" title="6 Acknowledgements" href="#rfc.section.6"><link rel="Chapter" href="#rfc.section.7" title="7 References"><meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.597, 2013/05/27 06:39:42, XSLT vendor: libxslt http://xmlsoft.org/XSLT/"><meta name="keywords" content="URI, scheme, file"><link rel="schema.dct" href="http://purl.org/dc/terms/"><meta name="dct.creator" content="Kerwin, M. V."><meta name="dct.identifier" content="urn:ietf:id:draft-kerwin-file-scheme-latest"><meta name="dct.issued" scheme="ISO8601" content="2013-07-04"><meta name="dct.abstract" content="This document specifies the file Uniform Resource Identifier (URI) scheme that was originally specified in . The purpose of this document is to keep the information about the scheme on standards track, since has been made obsolete."><meta name="description" content="This document specifies the file Uniform Resource Identifier (URI) scheme that was originally specified in . The purpose of this document is to keep the information about the scheme on standards track, since has been made obsolete."></head><body onload="init();"><table class="header"><tbody><tr><td class="left">Network Working Group</td><td class="right">M. Kerwin</td></tr><tr><td class="left">Internet-Draft</td><td class="right">QUT</td></tr><tr><td class="left">Intended status: Standards Track</td><td class="right">July 4, 2013</td></tr><tr><td class="left">Expires: January 5, 2014</td><td class="right"></td></tr></tbody></table><p class="title">The file URI Scheme<br><span class="filename">draft-kerwin-file-scheme-latest</span></p><h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1><p>This document specifies the file Uniform Resource Identifier (URI) scheme that was originally specified in <a href="#RFC1738"><cite title="Uniform Resource Locators (URL)">[RFC1738]</cite></a>. The purpose of this document is to keep the information about the scheme on standards track, since <a href="#RFC1738"><cite title="Uniform Resource Locators (URL)">[RFC1738]</cite></a> has been made obsolete.</p><h1 id="rfc.note.1"><a href="#rfc.note.1">Note to Readers</a></h1><p>This draft should be discussed on its <a href="#github">github project page</a> <cite title="file-uri-scheme GitHub repository">[github]</cite>.</p><h1><a id="rfc.status" href="#rfc.status">Status of This Memo</a></h1><p>This Internet-Draft is submitted to IETF in full conformance with the provisions of BCP 78 and BCP 79.</p><p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF). Note that other groups may also distribute working documents as Internet-Drafts. The list of current Internet-Drafts is at <a href="http://datatracker.ietf.org/drafts/current/">http://datatracker.ietf.org/drafts/current/</a>.</p><p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as &#8220;work in progress&#8221;.</p><p>This Internet-Draft will expire on January 5, 2014.</p><h1><a id="rfc.copyrightnotice" href="#rfc.copyrightnotice">Copyright Notice</a></h1><p>Copyright © 2013 IETF Trust and the persons identified as the document authors. All rights reserved.</p><p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p><hr class="noprint"><h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1><ul class="toc"><li><a href="#rfc.section.1">1.</a>   <a href="#intro">Introduction</a><ul><li><a href="#rfc.section.1.1">1.1</a>   <a href="#history">History</a></li><li><a href="#rfc.section.1.2">1.2</a>   <a href="#conventions">Conventions and Terminology</a></li></ul></li><li><a href="#rfc.section.2">2.</a>   <a href="#scheme">Scheme Definition</a></li><li><a href="#rfc.section.3">3.</a>   <a href="#implementation">Implementation Notes</a><ul><li><a href="#rfc.section.3.1">3.1</a>   <a href="#hierarchy">Hierarchical Structure</a></li><li><a href="#rfc.section.3.2">3.2</a>   <a href="#relative-paths">Relative file paths</a></li><li><a href="#rfc.section.3.3">3.3</a>   <a href="#drive-letters">Drives, drive letters, mount points, file system root</a></li><li><a href="#rfc.section.3.4">3.4</a>   <a href="#unc-file-paths">UNC File Paths</a></li><li><a href="#rfc.section.3.5">3.5</a>   <a href="#namespaces">Namespaces</a></li><li><a href="#rfc.section.3.6">3.6</a>   <a href="#encoding">Character sets and encodings</a></li></ul></li><li><a href="#rfc.section.4">4.</a>   <a href="#security">Security Considerations</a></li><li><a href="#rfc.section.5">5.</a>   <a href="#iana-considerations">IANA Considerations</a></li><li><a href="#rfc.section.6">6.</a>   <a href="#rfc.section.6">Acknowledgements</a></li><li><a href="#rfc.section.7">7.</a>   <a href="#rfc.references">References</a><ul><li><a href="#rfc.section.7.1">7.1</a>   <a href="#rfc.references.1">Normative References</a></li><li><a href="#rfc.section.7.2">7.2</a>   <a href="#rfc.references.2">Informative References</a></li></ul></li><li><a href="#rfc.authors">Author's Address</a></li></ul><h1 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a> <a id="intro" href="#intro">Introduction</a></h1><p id="rfc.section.1.p.1">URIs were previously defined in <a href="#RFC1738"><cite title="Uniform Resource Locators (URL)">[RFC1738]</cite></a>, which was updated by <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a>. Those documents also specify how to define schemes for URIs.</p><p id="rfc.section.1.p.2">The first definition for many URI schemes appeared in <a href="#RFC1738"><cite title="Uniform Resource Locators (URL)">[RFC1738]</cite></a>. Because that document has been made obsolete, this document copies the file URI scheme from it to allow that material to remain on standards track.</p><h2 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1</a> <a id="history" href="#history">History</a></h2><p id="rfc.section.1.1.p.1"><em>This section is non-normative.</em></p><p id="rfc.section.1.1.p.2">The file URI scheme was first defined in <a href="#RFC1630"><cite title="Universal Resource Identifiers in WWW: A Unifying Syntax for the Expression of Names and Addresses of Objects on the Network as used in the World-Wide Web">[RFC1630]</cite></a>, which, being an informational RFC, does not specify an Internet standard. The definition was standardised in <a href="#RFC1738"><cite title="Uniform Resource Locators (URL)">[RFC1738]</cite></a>, and the scheme was registered with the <a href="#IANA-URI-Schemes">Internet Assigned Numbers Authority (IANA)</a> <cite title="Uniform Resource Identifier (URI) Schemes registry">[IANA-URI-Schemes]</cite>; however the latter definition omitted certain language included by former that clarified aspects such as: </p><ul><li>the use of slashes to donate boundaries between directory levels of a hierarchical file system;</li><li>the requirement that client software convert the <em>file</em> URI into a file name in the local file name conventions;</li><li>a justification for defining the scheme.</li></ul><p id="rfc.section.1.1.p.3">The Internet draft <a href="#I-D.draft-hoffman-file-uri"><cite title="The file URI Scheme">[I-D.draft-hoffman-file-uri]</cite></a> was written in an effort to keep the file URI scheme on standards track when <a href="#RFC1738"><cite title="Uniform Resource Locators (URL)">[RFC1738]</cite></a> was made obsolete, but that draft expired in 2005. It enumerated concerns arising from the various, often conflicting implementations of the scheme. It serves as the basis of this document.</p><p id="rfc.section.1.1.p.4">The file URI scheme defined in <a href="#RFC1738"><cite title="Uniform Resource Locators (URL)">[RFC1738]</cite></a> is referenced three times in the current <a href="#RFC3986">URI Generic Syntax standard</a> <cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite>, despite the former's obsoletion: </p><ol><li><a href="http://xml.resource.org/public/rfc/html/rfc3986.html#overview">Section 1.1</a> uses "file:///etc/hosts" as an example for identifying a resource in relation to the end-user's local context.</li><li><a href="http://xml.resource.org/public/rfc/html/rfc3986.html#hierarchical">Section 1.2.3</a> mentions the "file" scheme regarding relative references.</li><li><a href="http://xml.resource.org/public/rfc/html/rfc3986.html#host">Section 3.2.2</a> says that '...the "file" URI scheme is defined so that no authority, an empty host, and "localhost" all mean the end-user's machine...'.</li></ol><p id="rfc.section.1.1.p.5">Finally the WHATWG defines a <a href="#WHATWG-URL">living URL standard</a> <cite title="URL Living Standard">[WHATWG-URL]</cite>, which includes algorithms for interpreting file URIs.</p><h2 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2</a> <a id="conventions" href="#conventions">Conventions and Terminology</a></h2><p id="rfc.section.1.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.</p><h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> <a id="scheme" href="#scheme">Scheme Definition</a></h1><p id="rfc.section.2.p.1">The file URI scheme is used to identify files accessible on a particular host computer, where a <em>file</em> is a named resource which can be accessed through the computer's filesystem interface. This scheme, unlike most other URI schemes, does not identify a resource that is universally accessible over the Internet.</p><p id="rfc.section.2.p.2">Note well that "file" refers to filesystem names from the perspective of the user of a reference, rather than in relation to a globally-defined naming authority, so care should be taken to ensure that such references are actually intended to be interpreted in relation to the user's filesystem interface.</p><p id="rfc.section.2.p.3">The file URI scheme has historically had little or no interoperability between platforms. Further, implementers on a single platform have often disagreed on the syntax to use for a particular filesystem. This document attempts to resolve those problems, and define a standard scheme which is interoperable between different extant and future implementations. Additionally, it aims to ease implementation by conforming to a general syntax that allows existing URI parsing machinery to parse <em>file</em> URIs.</p><p id="rfc.section.2.p.4">Note that <em>file</em> and <em>ftp</em> URIs are not the same, even when the target of the <em>ftp</em> URI is the local host.</p><p id="rfc.section.2.p.5">The syntax of a <em>file</em> URI conforms with the generic syntax presented in <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a>, with the following components: </p><dl><dt>scheme name</dt><dd>The literal value <samp>file</samp></dd><dt>authority</dt><dd>If present, either the fully qualified domain name of the system on which the file is accessible; or one of the special values <samp>localhost</samp> or the empty string (""), in which case it is interpreted as "the machine from which the URI is being interpreted". An absent authority component <em class="bcp14">SHOULD</em> be interpreted as if it were present and had the value <samp>localhost</samp>. <br><br> A host name, if supplied, is intended to inform a client on a remote machine that it cannot access the file system, or perhaps to use some other mechanism to access the file. It does not imply that the file should be accessible over a network connection.</dd><dt>path</dt><dd>The hierarchical directory path to the file, using the slash ("/") character to separate directories. Implementations <em class="bcp14">SHOULD</em> translate between the URI syntax and the local system's conventions for specifying file paths, where they differ. (See: <a href="#hierarchy" title="Hierarchical Structure">Section 3.1</a>) <br><br> Some systems allow <em>file</em> URIs to point to directories. In this case, the path usually (but not always) includes a terminating slash character, such as in: <div id="rfc.figure.u.1"></div><pre class="inline">file:///usr/local/bin/</pre> </dd><dt>query</dt><dd>The query component contains non-hierarchical data that, along with data in the path component, serves to identify a file. For example, in a versioning file system, the query component might be used to refer to a specific version of a file. <br><br> Few implementations are known to use or support query components.</dd><dt>fragment</dt><dd>Because the file URI scheme does not define a mechanism for retrieving a representation of a <em>file</em> URI, the semantics of a fragment component are considered unknown and remain undefined by this specification. A protocol or system that utilises the file URI scheme <em class="bcp14">MAY</em> define its own semantics for fragment components in <em>file</em> URIs used in that protocol or system.</dd></dl><p id="rfc.section.2.p.6">Previous definitions of the file URI scheme required two slashes between the scheme and path, so implementations may wish to include an authority component in any <em>file</em> URIs they generate, in order to remain interoperable.</p><p id="rfc.section.2.p.7">Systems exhibit different levels of case-sensitivity. Implementations <em class="bcp14">SHOULD</em> attempt to maintain the case of file and directory names when translating <em>file</em> URIs to and from the local system's representation of file paths, and any systems or devices that transport <em>file</em> URIs <em class="bcp14">SHOULD NOT</em> alter the case of <em>file</em> URIs they transport.</p><h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a id="implementation" href="#implementation">Implementation Notes</a></h1><h2 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1</a> <a id="hierarchy" href="#hierarchy">Hierarchical Structure</a></h2><p id="rfc.section.3.1.p.1">Most implementations of the file URI scheme do a reasonable job of mapping the hierarchical part of a directory structure into the slash ("/") delimited hierarchy of the URI syntax, independent of the native platform's delimiter.</p><p id="rfc.section.3.1.p.2">For example, on Microsoft Windows platforms, it is typical that the file system presents backslash ("\") as the file delimeter for file names, yet the URI's forward slash ("/") can be used in <em>file</em> URIs. Similarly, on (some) Macintosh OS versions, at least in some contexts, the colon (":") is used as the delimiter in the native presentation of file path names. Unix systems natively use the same forward slash ("/") delimiter for hierarchy, so there is a closer mapping between <em>file</em> URI paths and native path names.</p><p id="rfc.section.3.1.p.3">In accordance with <a href="http://xml.resource.org/public/rfc/html/rfc3986.html#path">Section 3.3</a> of <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a>, the path segments <em>.</em> and <em>..</em>, also known as dot-segments, are only interpreted within the URI path hierarchy and are removed as part of the resolution process (<a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html#absolutize">Section 5.2</a>). Implementations operating on or interacting with systems that allow dot-segments in their resolved native path representation may be required to escape those segments using some other means.</p><h2 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2</a> <a id="relative-paths" href="#relative-paths">Relative file paths</a></h2><p id="rfc.section.3.2.p.1">As relative references are resolved into their respective (absolute) target URIs according to <a href="http://xml.resource.org/public/rfc/html/rfc3986.html#reference-resolution">Section 5</a> of <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a>, this document does not describe that resolution. However, a fully resolved <em>file</em> URI may contain a non-absolute file path. For example, the URI: </p><div id="rfc.figure.u.2"></div><pre class="inline">file:a/b/c</pre><p> would be interpreted as file <em>c</em>, in directory <em>b</em>, in directory <em>a</em>, on the machine on which the URI is being interpreted (i.e. localhost); however there is no indication of the location of the directory <em>a</em> on that machine. By convention an absolute file path would begin with a slash ("/") character on a Unix-based system, or a drive letter (e.g. "c:\") on a Microsoft Windows system, etc.</p><p id="rfc.section.3.2.p.2">Resolution of relative file paths is left undefined by this specification.</p><h2 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3</a> <a id="drive-letters" href="#drive-letters">Drives, drive letters, mount points, file system root</a></h2><p id="rfc.section.3.3.p.1">Historically there has been considerable difference, in practice, for handling of the syntax for the "top" of the hierarchy. The <em>file</em> URI syntax provides one simple place for designating the root of the file hierachy, and implementations have diverged, even on the same platform, sometimes even within a single application.</p><p id="rfc.section.3.3.p.2">For example, Microsoft DOS- and Windows-based systems support the notion of a "drive letter", a single character which represents a (virtual) drive, mount point, or device. Native representations of file paths start with the drive letter, a colon, and then the path; e.g., <em>c:\TMP\test.txt</em>.</p><p id="rfc.section.3.3.p.3">Drive letters are mapped into the top of a <em>file</em> URI in various ways. On systems running some versions of Microsoft Windows, the drive letter may be specified with a colon (":") character, however sometimes the colon is replaced with a pipe ("|") character, and in some implementations the colon is omitted entirely. The three representations <em class="bcp14">MAY</em> be considered equivalent, and any implementation which could interact with a Microsoft Windows environment <em class="bcp14">SHOULD</em> interpret a single letter, optionally followed by a colon or pipe character, in the first segment of the path as a drive letter. For example, the following URIs: </p><div id="rfc.figure.u.3"></div><pre class="inline">file:///c:/TMP/test.txt
file:///c|/TMP/test.txt
file:///c/TMP/test.txt</pre><p> when interpreted on the same machine, would refer to the same file: </p><div id="rfc.figure.u.4"></div><pre class="inline">c:\TMP\test.txt</pre><p id="rfc.section.3.3.p.4">Implementations <em class="bcp14">SHOULD</em> use a colon (":") character to specify drive letters when generating URIs.</p><p id="rfc.section.3.3.p.5">Note that some systems running some versions of Microsoft Windows are known to omit the slash before the drive letter, effectively replacing the authority component with the drive specification; for example, <em>file://c:/TMP/test.txt</em>. In line with Postel's robustness principle ("an implementation must be conservative in its sending behavior, and liberal in its receiving behavior" <a href="#RFC791"><cite title="Internet Protocol - DARPA Internet Program, Protocol Specification">[RFC791]</cite></a>) implementations that are likely to encounter such a URI <em class="bcp14">MAY</em> interpret it as a drive letter, but <em class="bcp14">SHOULD NOT</em> generate such URIs.</p><h2 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4</a> <a id="unc-file-paths" href="#unc-file-paths">UNC File Paths</a></h2><p id="rfc.section.3.4.p.1">The Microsoft Windows <a href="#MS-DTYP">Universal Naming Convention (UNC)</a> <cite title="Windows Data Types, Section 2.2.56 UNC">[MS-DTYP]</cite> defines a convention for specifying the location of resources such as shared files or devices, for example Windows shares accessed via the <a href="#MS-SMB2">SMB/CIFS protocol</a> <cite title="Server Message Block (SMB) Protocol Versions 2 and 3">[MS-SMB2]</cite>. The general structure of a UNC file path, given in <a href="#RFC5234">Augmented Backus-Naur Form (ABNF)</a> <cite title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite>, is: </p><div id="rfc.figure.u.5"></div><pre class="inline">UNC        = "\\" hostname "\" sharename *( "\" objectname )
hostname   = &lt;NetBIOS name, FQDN, or IP address of a server&gt;
sharename  = &lt;name of a share or resource to be accessed&gt;
objectname = &lt;the name of an object&gt;
          </pre><p> Note that this syntax description is non-normative.</p><p id="rfc.section.3.4.p.2">The canonical representation of a UNC file path as a <em>file</em> URI copies the UNC <em>hostname</em> into the URI <em>host</em> field, and the UNC <em>sharename</em> and <em>objectname</em>s, concatenated with forward slash ("/") characters, into the <em>path</em>. For example, the following UNC path: </p><div id="rfc.figure.u.6"></div><pre class="inline">\\server.example.com\Share\path\to\file.doc</pre><p> is represented as a <em>file</em> URI canonically as: </p><div id="rfc.figure.u.7"></div><pre class="inline">file://server.example.com/Share/path/to/file.doc
       \________________/\_____________________/
            hostname      sharename+objectnames</pre><p id="rfc.section.3.4.p.3">Historically some implementations have translated UNC file paths entirely into the <em>path</em> segment of a <em>file</em> URI, including both leading slashes. For example, the UNC path: </p><div id="rfc.figure.u.8"></div><pre class="inline">\\server.example.com\Share\path\to\file.doc</pre><p> might be translated as: </p><div id="rfc.figure.u.9"></div><pre class="inline">file:////server.example.com/Share/path/to/file.doc
       \_________________________________________/
                  translated UNC path</pre><p> An implementation receiving such a URI <em class="bcp14">SHOULD</em> convert it to the canonical representation before processing or forwarding it.</p><p id="rfc.section.3.4.p.4">The file URI scheme is unusual in that it does not specify an Internet protocol or access method for shared files; as such, its utility in network protocols between hosts is limited. Examples of file server protocols that do define such access methods include <a href="#MS-SMB2">SMB/CIFS</a> <cite title="Server Message Block (SMB) Protocol Versions 2 and 3">[MS-SMB2]</cite>, <a href="#RFC3530">NFS</a> <cite title="Network File System (NFS) version 4 Protocol">[RFC3530]</cite>, and <a href="#NOVELL">NCP</a> <cite title="NetWare Core Protocols">[NOVELL]</cite>.</p><h2 id="rfc.section.3.5"><a href="#rfc.section.3.5">3.5</a> <a id="namespaces" href="#namespaces">Namespaces</a></h2><p id="rfc.section.3.5.p.1">The Microsoft Windows API defines <a href="#Win32-Namespaces">Win32 Namespaces</a> <cite title="Naming Files, Paths, and Namespaces">[Win32-Namespaces]</cite> for interacting with files and devices using Windows API functions. These namespaced paths are prefixed by <em>\\?\</em> for Win32 File Namespaces and <em>\\.\</em> for Win32 Device Namespaces. There is also a special case for UNC file paths <a href="#MS-DTYP"><cite title="Windows Data Types, Section 2.2.56 UNC">[MS-DTYP]</cite></a> in Win32 File Namespaces, referred to as "Long UNC", using the prefix <em>\\?\UNC\</em>.</p><p id="rfc.section.3.5.p.2">This document does not define a mechanism for translating namespaced file paths into <em>file</em> URIs.</p><h2 id="rfc.section.3.6"><a href="#rfc.section.3.6">3.6</a> <a id="encoding" href="#encoding">Character sets and encodings</a></h2><p id="rfc.section.3.6.p.1">Local file systems sometimes use many different encodings for representing file names. The URI syntax defined in <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> provides a method of encoding data, presumably for the sake of identifying a resource, as a sequence of characters. The URI characters are, in turn, frequently encoded as octets for transport or presentation. This specification does not mandate any particular character encoding for mapping between URI characters and the octets used to store or transmit those characters, however for the sake of interoperability, <em>file</em> URI libraries <em class="bcp14">MAY</em> translate the native character encoding for file names to and from their equivalent Unicode representation <a href="#UNICODE"><cite title="The Unicode Standard, Version 6.1">[UNICODE]</cite></a> encoded as <a href="#RFC3629">UTF-8</a> <cite title="UTF-8, a transformation format of ISO 10646">[RFC3629]</cite> and then percent-encoded into valid <a href="#RFC20">ASCII</a> <cite title="ASCII format for Network Interchange">[RFC20]</cite>.</p><p id="rfc.section.3.6.p.2">A protocol or system that utilises the file URI scheme <em class="bcp14">MAY</em> restrict the encoding of <em>file</em> URIs used in that protocol or system, and <em class="bcp14">SHOULD</em> declare such restrictions if they exist. If no such declaration is given, implementations <em class="bcp14">SHOULD</em> default to percent-encoded UTF-8 Unicode, as described above.</p><h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a id="security" href="#security">Security Considerations</a></h1><p id="rfc.section.4.p.1">There are many security considerations for URI schemes discussed in <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a>.</p><p id="rfc.section.4.p.2">File access and the granting of privileges for specific operations are complex topics, and the use of <em>file</em> URIs can complicate the security model in effect for file privileges. Under no circumstance should software using <em>file</em> URIs grant greater access than would be available for other file access methods.</p><h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a> <a id="iana-considerations" href="#iana-considerations">IANA Considerations</a></h1><p id="rfc.section.5.p.1">This document does not modify the existing entry in the <a href="#IANA-URI-Schemes">URI Schemes registry</a> <cite title="Uniform Resource Identifier (URI) Schemes registry">[IANA-URI-Schemes]</cite>, except by updating its reference RFC.</p><h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a> Acknowledgements</h1><p id="rfc.section.6.p.1">This specification is derived from <a href="#RFC1738">RFC 1738</a> <cite title="Uniform Resource Locators (URL)">[RFC1738]</cite>, <a href="#RFC3986">RFC 3986</a> <cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite>, and <a href="#I-D.draft-hoffman-file-uri">I-D draft-hoffman-file-uri (expired)</a> <cite title="The file URI Scheme">[I-D.draft-hoffman-file-uri]</cite>; the acknowledgements in those documents still apply.</p><h1 id="rfc.references"><a id="rfc.section.7" href="#rfc.section.7">7.</a> References</h1><h2 id="rfc.references.1"><a href="#rfc.section.7.1" id="rfc.section.7.1">7.1</a> Normative References</h2><table><tr><td class="reference"><b id="RFC2119">[RFC2119]</b></td><td class="top"><a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, &#8220;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>&#8221;, BCP 14, RFC 2119, March 1997.</td></tr><tr><td class="reference"><b id="RFC3986">[RFC3986]</b></td><td class="top"><a href="mailto:timbl@w3.org" title="World Wide Web Consortium">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com" title="Day Software">Fielding, R.</a>, and <a href="mailto:LMM@acm.org" title="Adobe Systems Incorporated">L. Masinter</a>, &#8220;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>&#8221;, STD 66, RFC 3986, January 2005.</td></tr></table><h2 id="rfc.references.2"><a href="#rfc.section.7.2" id="rfc.section.7.2">7.2</a> Informative References</h2><table><tr><td class="reference"><b id="I-D.draft-hoffman-file-uri">[I-D.draft-hoffman-file-uri]</b></td><td class="top">Hoffman, P., &#8220;<a href="http://tools.ietf.org/html/draft-hoffman-file-uri-03">The file URI Scheme</a>&#8221;, Internet-Draft draft-hoffman-file-uri-03 (work in progress), January 2005.</td></tr><tr><td class="reference"><b id="IANA-URI-Schemes">[IANA-URI-Schemes]</b></td><td class="top">Internet Assigned Numbers Authority, &#8220;<a href="http://www.iana.org/assignments/uri-schemes/uri-schemes.xml">Uniform Resource Identifier (URI) Schemes registry</a>&#8221;, June 2013, &lt;<a href="http://www.iana.org/assignments/uri-schemes/uri-schemes.xml">http://www.iana.org/assignments/uri-schemes/uri-schemes.xml</a>&gt;.</td></tr><tr><td class="reference"><b id="MS-DTYP">[MS-DTYP]</b></td><td class="top"><a href="http://www.microsoft.com/openspecifications/en/us/default.aspx">Microsoft Open Specifications</a>, &#8220;<a href="http://msdn.microsoft.com/en-us/library/gg465305.aspx">Windows Data Types, Section 2.2.56 UNC</a>&#8221;, January 2013, &lt;<a href="http://msdn.microsoft.com/en-us/library/gg465305.aspx">http://msdn.microsoft.com/en-us/library/gg465305.aspx</a>&gt;.</td></tr><tr><td class="reference"><b id="MS-SMB2">[MS-SMB2]</b></td><td class="top"><a href="http://www.microsoft.com/openspecifications/en/us/default.aspx">Microsoft Open Specifications</a>, &#8220;<a href="http://msdn.microsoft.com/en-us/library/cc246482.aspx">Server Message Block (SMB) Protocol Versions 2 and 3</a>&#8221;, January 2013, &lt;<a href="http://msdn.microsoft.com/en-us/library/cc246482.aspx">http://msdn.microsoft.com/en-us/library/cc246482.aspx</a>&gt;.</td></tr><tr><td class="reference"><b id="NOVELL">[NOVELL]</b></td><td class="top"><a href="http://www.novell.com/">Novell</a>, &#8220;<a href="http://www.novell.com/developer/ndk/netware_core_protocols.html">NetWare Core Protocols</a>&#8221;, 2013, &lt;<a href="http://www.novell.com/developer/ndk/netware_core_protocols.html">http://www.novell.com/developer/ndk/netware_core_protocols.html</a>&gt;.</td></tr><tr><td class="reference"><b id="RFC1630">[RFC1630]</b></td><td class="top"><a href="mailto:timbl@info.cern.ch" title="CERN, World-Wide Web project">Berners-Lee, T.</a>, &#8220;<a href="http://tools.ietf.org/html/rfc1630">Universal Resource Identifiers in WWW: A Unifying Syntax for the Expression of Names and Addresses of Objects on the Network as used in the World-Wide Web</a>&#8221;, RFC 1630, June 1994.</td></tr><tr><td class="reference"><b id="RFC1738">[RFC1738]</b></td><td class="top"><a href="mailto:timbl@info.cern.ch" title="CERN, World-Wide Web project">Berners-Lee, T.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox PARC">Masinter, L.</a>, and <a href="mailto:mpm@boombox.micro.umn.edu" title="University of Minnesota, Computer and Information Services">M. McCahill</a>, &#8220;<a href="http://tools.ietf.org/html/rfc1738">Uniform Resource Locators (URL)</a>&#8221;, RFC 1738, December 1994.</td></tr><tr><td class="reference"><b id="RFC20">[RFC20]</b></td><td class="top">Cerf, V., &#8220;<a href="http://tools.ietf.org/html/rfc20">ASCII format for Network Interchange</a>&#8221;, RFC 20, October 1969.</td></tr><tr><td class="reference"><b id="RFC3530">[RFC3530]</b></td><td class="top">Shepler, S., Callaghan, B., Robinson, D., Thurlow, R., Beame, C., Eisler, M., and D. Noveck, &#8220;<a href="http://tools.ietf.org/html/rfc3530">Network File System (NFS) version 4 Protocol</a>&#8221;, RFC 3530, April 2003.</td></tr><tr><td class="reference"><b id="RFC3629">[RFC3629]</b></td><td class="top">Yergeau, F., &#8220;<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>&#8221;, STD 63, RFC 3629, November 2003.</td></tr><tr><td class="reference"><b id="RFC5234">[RFC5234]</b></td><td class="top">Crocker, D. and P. Overell, &#8220;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>&#8221;, STD 68, RFC 5234, January 2008.</td></tr><tr><td class="reference"><b id="RFC791">[RFC791]</b></td><td class="top">Postel, J., &#8220;<a href="http://tools.ietf.org/html/rfc791">Internet Protocol - DARPA Internet Program, Protocol Specification</a>&#8221;, RFC 791, September 1981.</td></tr><tr><td class="reference"><b id="UNICODE">[UNICODE]</b></td><td class="top">The Unicode Consortium, &#8220;<a href="http://www.unicode.org/versions/Unicode6.1.0/">The Unicode Standard, Version 6.1</a>&#8221;, 2012, &lt;<a href="http://www.unicode.org/versions/Unicode6.1.0/">http://www.unicode.org/versions/Unicode6.1.0/</a>&gt;.</td></tr><tr><td class="reference"><b id="WHATWG-URL">[WHATWG-URL]</b></td><td class="top"><a href="http://www.whatwg.org/">WHATWG</a>, &#8220;<a href="http://url.spec.whatwg.org/">URL Living Standard</a>&#8221;, May 2013, &lt;<a href="http://url.spec.whatwg.org/">http://url.spec.whatwg.org/</a>&gt;.</td></tr><tr><td class="reference"><b id="Win32-Namespaces">[Win32-Namespaces]</b></td><td class="top">Microsoft Developer Network, &#8220;<a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces">Naming Files, Paths, and Namespaces</a>&#8221;, June 2013, &lt;<a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces">http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces</a>&gt;.</td></tr><tr><td class="reference"><b id="github">[github]</b></td><td class="top"><a href="mailto:matthew@kerwin.net.au">Kerwin, M.</a>, &#8220;<a href="https://github.com/phluid61/file-uri-scheme">file-uri-scheme GitHub repository</a>&#8221;, n.d., &lt;<a href="https://github.com/phluid61/file-uri-scheme">https://github.com/phluid61/file-uri-scheme</a>&gt;.</td></tr></table><div class="avoidbreak"><h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1><address class="vcard"><span class="vcardline"><span class="fn">Matthew Kerwin</span><span class="n hidden"><span class="family-name">Kerwin</span><span class="given-name">Matthew</span></span></span><span class="org vcardline">Queensland University of Technology</span><span class="adr"><span class="street-address vcardline">Victoria Park Rd</span><span class="vcardline"><span class="locality">Kelvin Grove</span>, <span class="region">QLD</span> <span class="postal-code">4059</span></span><span class="country-name vcardline">Australia</span></span><span class="vcardline">Email: <a href="mailto:matthew.kerwin@qut.edu.au"><span class="email">matthew.kerwin@qut.edu.au</span></a></span></address></div></body></html>
